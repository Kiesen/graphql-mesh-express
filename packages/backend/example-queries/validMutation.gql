# This mutation should pass the validation because we have a valid logDB
# The purpose of the logDB is to submit further information alongside a mutation
# This further information is logged into DB if the mutation has succeeded
mutation MutationTryValid {
  updateManagerFirstName(firstName: "newFirstName") {
    firstName
    lastName
  }

  logDB(
    input: {
      comment: "Testing the update of a manager's first name"
      advertiserId: 1234567
      environment: live
      fields: [
        {
          fieldNamespace: "manager"
          fieldId: "1"
          fieldName: "Manager's first name"
          oldValueJson: "\"oldFirstName\""
          oldValueAsDisplayed: "oldFirstName"
          newValueJson: "\"newFirstName\""
          newValueAsDisplayed: "newFirstName"
          path: "updateManagerFirstName.firstName"
        }
      ]
    }
  ) {
    comment
    advertiserId
    environment
    fields {
      fieldNamespace
      fieldId
      oldValueJson
      fieldName
      oldValueAsDisplayed
      newValueJson
      newValueAsDisplayed
      path
    }
  }
}
